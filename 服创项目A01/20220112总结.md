# 服创总结

## 成果

- 使用 OpenCV 库，对视频进行了帧与帧之间的对比，分割出两帧之前的运动物体

- 并将其转为二值图像，通过形态学操作进行去噪
- 而后根据 OpenCV 自带函数获取边缘信息
- 通过获取到的边缘信息进行车辆边框的生成
- 连续处理，生成结果视频

**Tips：**

- 判断车辆使用的是`边框面积`大于某值，以及`宽度`和`高度`大于某值

- 判断帧之间差异使用的是`cv2.absdiff(gA, gB)`函数，暂未尝试`KNN`等方法

## 遇到的问题

### 视频相关

- 视频拍摄过程中抖动问题，导致两帧之间的差异**噪声明显增大**
- 拍摄角度的问题，难以找到一个合理的值来确定本视频中车辆的`面积`、`宽度`、`高度`
- 视频中较远位置的车辆，等完红灯后会「几乎同时」开始运动，造成分割不精确

### 算法相关

- 车辆在白天形式过程中存在`影子问题`，即分割出来的结果里面，车辆在地面的**影子也被分割进去**
- 分割不精确，难以进行下一步研究
- 难以区分如`电动车`、`电动三轮车`甚至是`带棚子的电动摩托`，后期可能造成行为误判

## 目前想到的解决方案

- 视频经过一些后期理，去除无人机拍摄过程中的抖动（未实施）
- 使用 OpenCV 搭配 Yolo 检测，使用神经网络辅助 OpenCV 进行目标判断（未实施）
- 通过人工划定分割区域的方法，来规避上述「车辆同时启动」的问题（已实现）

## 有待解决的问题

- 是否要进行精确的实义分割，来判断车辆压线等情况（yolo 检测框选可能造成误判）
- 如何解决车道线弯曲问题（OpenCV 自动侦测车道线是传统的霍夫曼变换方法，只能分割出来直线）